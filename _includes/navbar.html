<style>
  nav {
    position: fixed;
    width: 100%;
    padding: 0 2rem;
    background-color: var(--navbar-background-color);
    z-index: 999;
    height: var(--navbar-height);
    display: flex;
    align-items: center;
    justify-content: space-between;
    transition: var(--transition);
    transition-property: color, background-color, box-shadow;
  }

  nav.shadow {
    box-shadow: var(--box-shadow-01);
  }

  nav .left {
    display: flex;
  }

  nav .left a {
    display: flex;
    align-items: center;
    text-decoration: none;
  }

  nav .left img {
    height: 2.5rem;
  }

  nav .left span {
    font-size: 1.7rem;
    font-weight: bold;
    padding-left: 1rem;
    color: var(--logo-text-color);
    transition: var(--transition);
    transition-property: color;
  }

  nav .left:hover span {
    color: var(--logo-text-color-on-hover);
    transition: var(--transition);
    transition-property: color;
  }

  nav .right {
    display: flex;
    align-items: center;
  }

  nav .right .iconify {
    font-size: 2.75rem;
    margin-left: 1rem;
  }

  nav .right .change-theme-icon {
    display: none;
  }
</style>

<nav id="Navbar">
  <div class="left">
    <a href="/">
      <img src="{{site.baseurl}}/assets/img/logo.png" alt="logo" />
      <span>DEV Knowledge</span>
    </a>
  </div>
  <div class="right">
    <span id="ChangeToDarkThemeIcon" class="change-theme-icon pointer">
      <span class="iconify" data-icon="bx:bx-moon" data-inline="false"></span>
    </span>
    <span id="ChangeToLightThemeIcon" class="change-theme-icon pointer">
      <span class="iconify" data-icon="heroicons-solid:sun" data-inline="false"></span>
    </span>
  </div>
</nav>

<script>
  (function () {
    const lightTheme = 'light';
    const darkTheme = 'dark';
    const currentThemeKey = 'CURRENT_THEME';
    const body = document.querySelector('body');
    const navbar = document.getElementById('Navbar');
    const changeToDarkThemeIcon = document.getElementById('ChangeToDarkThemeIcon');
    const changeToLightThemeIcon = document.getElementById('ChangeToLightThemeIcon');

    initCurrentTheme();
    changeToDarkThemeIcon.addEventListener('click', toggleTheme);
    changeToLightThemeIcon.addEventListener('click', toggleTheme);
    window.onscroll = onScroll;

    function onScroll(event) {
      if (window.scrollY === 0) {
        navbar.classList.remove('shadow');
      } else {
        navbar.classList.add('shadow');
      }
    }

    function initCurrentTheme() {
      const currentTheme = localStorage.getItem(currentThemeKey) || lightTheme;
      body.classList.remove(lightTheme, darkTheme);
      body.classList.add(currentTheme);
      localStorage.setItem(currentThemeKey, currentTheme);
      if (currentTheme === lightTheme) {
        changeToDarkThemeIcon.style.display = 'flex';
      } else {
        changeToLightThemeIcon.style.display = 'flex';
      }
    }

    function toggleTheme(event) {
      event.stopPropagation();
      const currentTheme = localStorage.getItem(currentThemeKey);
      if (currentTheme === lightTheme) {
        body.classList.remove(lightTheme);
        body.classList.remove(darkTheme);
        body.classList.add(darkTheme);
        localStorage.setItem(currentThemeKey, darkTheme);
        changeToDarkThemeIcon.style.display = 'none';
        changeToLightThemeIcon.style.display = 'flex';
      } else {
        body.classList.remove(lightTheme);
        body.classList.remove(darkTheme);
        body.classList.add(lightTheme);
        localStorage.setItem(currentThemeKey, lightTheme);
        changeToDarkThemeIcon.style.display = 'flex';
        changeToLightThemeIcon.style.display = 'none';
      }
    }
  })();
</script>
